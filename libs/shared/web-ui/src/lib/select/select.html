<button
  type="button"
  #trigger
  (click)="toggle()"
  class="w-full flex items-center justify-between px-3 py-2 rounded-md border bg-[var(--color-bg)] border-[var(--color-border)] text-[var(--color-text)] hover:bg-[var(--color-bg-hover)] focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]"
>
  <span class="truncate"> {{ selectedLabel ?? placeholder }} </span>

  <svg class="w-4 h-4 opacity-60" viewBox="0 0 20 20" fill="currentColor">
    <path
      fill-rule="evenodd"
      d="M5.23 7.21a.75.75 0 011.06.02L10 11.17l3.71-3.94a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
      clip-rule="evenodd"
    />
  </svg>
</button>

<ng-template #dropdown>
  <div
    class="mt-1 w-full min-w-[12rem] rounded-md border bg-[var(--color-bg)] border-[var(--color-border)] shadow-lg overflow-hidden"
  >
    @for (item of items; track item.key) {
    <button
      type="button"
      (click)="select(item)"
      class="w-full text-left px-3 py-2 text-sm hover:bg-[var(--color-bg-hover)] focus:outline-none focus:bg-[var(--color-bg-hover)]"
    >
      {{ item.value }}
    </button>
    }
  </div>
</ng-template>
